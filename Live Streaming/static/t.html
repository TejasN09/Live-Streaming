<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="cache-control" content="no-cache" />
    <meta http-equiv="pragma" content="no-cache" />
    <meta http-equiv="expires" content="0" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="shortcut icon" href="img/kurento.png" type="image/png" />

    <link
      rel="stylesheet"
      href="bower_components/bootstrap/dist/css/bootstrap.min.css"
    />
    <link rel="stylesheet" href="bower_components/demo-console/index.css" />
    <link
      rel="stylesheet"
      href="bower_components/ekko-lightbox/dist/ekko-lightbox.min.css"
    />
    <link rel="stylesheet" href="css/kurento.css" />

    <script src="bower_components/webrtc-adapter/release/adapter.js"></script>
    <script src="bower_components/jquery/dist/jquery.min.js"></script>
    <script src="bower_components/bootstrap/dist/js/bootstrap.min.js"></script>
    <script src="bower_components/demo-console/index.js"></script>
    <script src="bower_components/ekko-lightbox/dist/ekko-lightbox.min.js"></script>

    <script src="bower_components/kurento-utils/js/kurento-utils.js"></script>

    <script src="js/index.js"></script>
    <title>Kurento Tutorial 3: Video Call 1 to N with WebRTC</title>
  </head>
  <body>
    <div id="landingPage">
      <button id="createMeet">Create Meet</button>
    </div>

    <div id="homePage" style="display: none;">
      <a id="join">https://localhost:8443/</a>
      <button id="startBroadcasting">Start Broadcasting</button>
    </div>

    <div class="container" style="display: none;">
      <div class="row">
        <div class="col-md-5">
          <div class="row">
            <div class="col-md-12">
              <a id="call" href="#" class="btn btn-success">
                <span class="glyphicon glyphicon-play"></span> Presenter</a
              >
              <a id="viewer" href="#" class="btn btn-primary">
                <span class="glyphicon glyphicon-user"></span> Viewer</a
              >
              <a id="terminate" href="#" class="btn btn-danger">
                <span class="glyphicon glyphicon-stop"></span> Stop</a
              >
            </div>
          </div>
          <br />
          <label class="control-label" for="console">Console</label><br /><br />
          <div id="console" class="democonsole">
            <ul></ul>
          </div>
        </div>
        <div class="col-md-7">
          <div id="videoBig">
            <video
              id="video"
              autoplay
              width="640px"
              height="480px"
              poster="img/webrtc.png"
            ></video>
          </div>
        </div>
      </div>
    </div>

    <script>
      document.getElementById("createMeet").addEventListener("click", function () {
        let landingPage = document.getElementById("landingPage");
        landingPage.style.display = "none";
        document.getElementById("homePage").style.display = "block";
      });
    
      document.getElementById("join").addEventListener("click", async function () {
        let homePage = document.getElementById("homePage");
        homePage.style.display = "none";
        await new Promise(resolve => setTimeout(resolve, 500)); 
      });
    
      document.getElementById("startBroadcasting").addEventListener("click", function () {
        let homePage = document.getElementById("homePage");
        homePage.style.display = "none";
        document.querySelector(".container").style.display = "block"; 
    
        setTimeout(function () {
          document.getElementById("call").click();
        }, 500);
      });
    </script>
    
  </body>
</html>
